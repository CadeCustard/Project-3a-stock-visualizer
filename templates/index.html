<!DOCTYPE html>
<html>
<head>
    <title>Stock Visualizer</title>
</head>
<body>

<h1>Stock Data Visualizer</h1>

{% if error %}
    <p style="color:red;">{{ error }}</p>
{% endif %}

<form method="POST">
    <label>Stock Symbol:</label>
    <select name="symbol" required>
        {% for s in symbols %}
            <option value="{{ s }}">{{ s }}</option>
        {% endfor %}
    </select><br><br>

    <label>Chart Type:</label>
    <select name="chart_type" required>
        <option value="1">Line</option>
        <option value="2">Bar</option>
    </select><br><br>

    <label>Time Series:</label>
    <select name="function_choice" required>
        <option value="1">Intraday</option>
        <option value="2">Daily</option>
        <option value="3">Weekly</option>
        <option value="4">Monthly</option>
    </select><br><br>

    <label>Start Date:</label>
    <input type="date" name="start_date" required><br><br>

    <label>End Date:</label>
    <input type="date" name="end_date" required><br><br>

    <button type="submit">Generate Chart</button>
</form>

{% if chart %}
    <h2>Generated Chart</h2>
    <embed src="{{ chart }}" type="image/svg+xml" width="800px">
{% endif %}

</body>
</html>
